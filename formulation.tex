\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{hyperref}

\geometry{margin=1in}

\title{\textbf{Mathematical Formulation}\\Constrained Resource Allocation in Cloud Computing}
\author{Research Project in Operations Research}
\date{\today}

\begin{document}
\maketitle

\section{Problem Description}

We consider a cloud computing resource allocation problem where a provider must allocate virtual machines (VMs) of different types to a set of computational tasks. Each task has specific resource requirements, priority levels, deadlines, and generates revenue when completed. The objective is to maximize total profit (revenue minus costs) while respecting budget constraints, VM capacity limits, and service level agreements.

\section{Sets and Indices}

\begin{itemize}
    \item $I = \{1, 2, \ldots, n\}$: Set of tasks (jobs) to be scheduled
    \item $J = \{1, 2, \ldots, m\}$: Set of available VM types
    \item $K = \{1, 2, \ldots, p\}$: Set of time periods (hours) in the planning horizon
\end{itemize}

\section{Parameters}

\subsection{Task Parameters}
\begin{itemize}
    \item $r_i$: Revenue generated by completing task $i$ (USD)
    \item $d_i$: Deadline of task $i$ (period index)
    \item $w_i$: Priority weight of task $i$ (higher = more important)
    \item $\lambda_i$: Minimum service level required for task $i$ (0-1)
    \item $cpu_i^{req}$: CPU cores required by task $i$
    \item $mem_i^{req}$: Memory (GB) required by task $i$
    \item $dur_i$: Duration (periods) required to complete task $i$
\end{itemize}

\subsection{VM Type Parameters}
\begin{itemize}
    \item $c_j^{vm}$: Hourly cost of VM type $j$ (USD/hour)
    \item $cpu_j^{cap}$: CPU capacity of VM type $j$ (cores)
    \item $mem_j^{cap}$: Memory capacity of VM type $j$ (GB)
    \item $N_j^{max}$: Maximum available instances of VM type $j$
\end{itemize}

\subsection{System Parameters}
\begin{itemize}
    \item $B$: Total budget available (USD)
    \item $T_{max}$: Maximum time periods in planning horizon
    \item $M$: Large constant for big-M formulation
\end{itemize}

\section{Decision Variables}

\subsection{Continuous Variables (LP)}
\begin{itemize}
    \item $x_{ijk} \in [0, 1]$: Fraction of task $i$ assigned to VM type $j$ at time $k$
    \item $u_{jk} \in \mathbb{R}_+$: Number of VM type $j$ active at time $k$
\end{itemize}

\subsection{Binary Variables (MILP Extension)}
\begin{itemize}
    \item $y_{ijk} \in \{0, 1\}$: 1 if task $i$ is assigned to VM type $j$ at time $k$, 0 otherwise
    \item $z_{i} \in \{0, 1\}$: 1 if task $i$ is fully completed, 0 otherwise
    \item $n_{jk} \in \mathbb{Z}_+$: Integer count of VM type $j$ active at time $k$
\end{itemize}

\section{Mathematical Formulation: LP Relaxation}

\subsection{Objective Function}

Maximize total profit (revenue minus operational costs):

\begin{equation}
\max \quad Z = \sum_{i \in I} \sum_{j \in J} \sum_{k \in K} w_i r_i x_{ijk} - \sum_{j \in J} \sum_{k \in K} c_j^{vm} u_{jk}
\label{eq:obj_lp}
\end{equation}

\subsection{Constraints}

\textbf{Budget Constraint:} Total operational costs cannot exceed budget
\begin{equation}
\sum_{j \in J} \sum_{k \in K} c_j^{vm} u_{jk} \leq B
\label{eq:budget}
\end{equation}

\textbf{Capacity Constraint (CPU):} CPU usage cannot exceed available capacity
\begin{equation}
\sum_{i \in I} cpu_i^{req} x_{ijk} \leq cpu_j^{cap} u_{jk}, \quad \forall j \in J, k \in K
\label{eq:capacity_cpu}
\end{equation}

\textbf{Capacity Constraint (Memory):} Memory usage cannot exceed available capacity
\begin{equation}
\sum_{i \in I} mem_i^{req} x_{ijk} \leq mem_j^{cap} u_{jk}, \quad \forall j \in J, k \in K
\label{eq:capacity_mem}
\end{equation}

\textbf{Assignment Limit:} Each task can be assigned at most once per time period
\begin{equation}
\sum_{j \in J} x_{ijk} \leq 1, \quad \forall i \in I, k \in K
\label{eq:assignment_limit}
\end{equation}

\textbf{Deadline Constraint:} Tasks must be completed before their deadlines
\begin{equation}
x_{ijk} = 0, \quad \forall i \in I, j \in J, k > d_i - dur_i
\label{eq:deadline}
\end{equation}

\textbf{Minimum Service Level:} Each task must receive at least its minimum allocation
\begin{equation}
\sum_{j \in J} \sum_{k \in K: k \leq d_i - dur_i} x_{ijk} \geq \lambda_i, \quad \forall i \in I
\label{eq:min_service}
\end{equation}

\textbf{VM Availability:} Cannot exceed maximum available VMs
\begin{equation}
u_{jk} \leq N_j^{max}, \quad \forall j \in J, k \in K
\label{eq:vm_avail}
\end{equation}

\textbf{Non-negativity:}
\begin{equation}
x_{ijk} \geq 0, \quad u_{jk} \geq 0, \quad \forall i \in I, j \in J, k \in K
\label{eq:nonneg}
\end{equation}

\section{Mathematical Formulation: MILP}

\subsection{Objective Function}

Maximize total profit with binary completion indicators:

\begin{equation}
\max \quad Z = \sum_{i \in I} w_i r_i z_i - \sum_{j \in J} \sum_{k \in K} c_j^{vm} n_{jk}
\label{eq:obj_milp}
\end{equation}

\subsection{Constraints}

All LP constraints adapted with integer variables, plus:

\textbf{Completion Definition:} Task is complete only if fully assigned
\begin{equation}
z_i \leq \sum_{j \in J} \sum_{k \in K} y_{ijk}, \quad \forall i \in I
\label{eq:completion_def}
\end{equation}

\begin{equation}
\sum_{j \in J} \sum_{k \in K} y_{ijk} \leq M \cdot z_i, \quad \forall i \in I
\label{eq:completion_big_m}
\end{equation}

\textbf{CPU Capacity (Integer):}
\begin{equation}
\sum_{i \in I} cpu_i^{req} y_{ijk} \leq cpu_j^{cap} n_{jk}, \quad \forall j \in J, k \in K
\label{eq:cpu_int}
\end{equation}

\textbf{Memory Capacity (Integer):}
\begin{equation}
\sum_{i \in I} mem_i^{req} y_{ijk} \leq mem_j^{cap} n_{jk}, \quad \forall j \in J, k \in K
\label{eq:mem_int}
\end{equation}

\textbf{Single Assignment:} Each task assigned to at most one VM type per period
\begin{equation}
\sum_{j \in J} y_{ijk} \leq 1, \quad \forall i \in I, k \in K
\label{eq:single_assign}
\end{equation}

\textbf{Budget (Integer):}
\begin{equation}
\sum_{j \in J} \sum_{k \in K} c_j^{vm} n_{jk} \leq B
\label{eq:budget_int}
\end{equation}

\textbf{Domain Constraints:}
\begin{equation}
y_{ijk} \in \{0, 1\}, \quad n_{jk} \in \mathbb{Z}_+, \quad z_i \in \{0, 1\}
\label{eq:domain}
\end{equation}

\section{Problem Characteristics}

\begin{itemize}
    \item \textbf{Problem Class:} Multi-dimensional knapsack with time scheduling
    \item \textbf{Complexity:} NP-hard (MILP), polynomially solvable (LP relaxation)
    \item \textbf{Variables:} $O(|I| \cdot |J| \cdot |K|)$ continuous/binary
    \item \textbf{Constraints:} $O(|I| + |J| \cdot |K|)$
\end{itemize}

\end{document}
